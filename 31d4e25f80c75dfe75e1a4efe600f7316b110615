{
  "comments": [
    {
      "key": {
        "uuid": "2221c3e6_2984bc24",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ManagedCommandLineGenerator.java",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 23745
      },
      "writtenOn": "2021-02-25T11:26:41Z",
      "side": 1,
      "message": "Do we want others to extend this type? In other words: is it abstract or final? \nActually we can have this one as abstract and declare another as final.\nI would suggest `BaseManagedCommandLineGenerator` for abstract and \u0027DefaultManagedCommandLineGenerator\u0027 for final, like this:\n\n\n\n```\npublic abstract class BaseManagedCommandLineGenerator implements IManagedCommandLineGenerator {\n\n   protected BaseManagedCommandLineGenerator() {\n   }\n/*\nall the suggested code except static singleton access\n*/\n}\n```\n\nand then:\n\n```\npublic final class DefaultManagedCommandLineGenerator extends BaseManagedCommandLineGenerator {\n\n   public DefaultManagedCommandLineGenerator() {\n   }\n}\n```\n\nIMO it could make the API more clear.",
      "revId": "31d4e25f80c75dfe75e1a4efe600f7316b110615",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c280e3f9_fb3c20d8",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ManagedCommandLineGenerator.java",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 178588
      },
      "writtenOn": "2021-02-25T12:14:22Z",
      "side": 1,
      "message": "I suppose that could be done, but my fear is that people would expect to extend the DefaultManagedCommandLineGenerator anyway.\nFor an example of why someone would extend the class, take a look at CrossCommandLineGenerator.\nIn our ST product, we do override the command, similar to what is done in CrossCommandLineGenerator, but we also add a few more GCC flags that are configured at the toolchain level rather than the tool level in the toolchain integration.\n\n@Jonah: What do you think about this approach?",
      "parentUuid": "2221c3e6_2984bc24",
      "revId": "31d4e25f80c75dfe75e1a4efe600f7316b110615",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55116f95_54339724",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ManagedCommandLineGenerator.java",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-25T12:21:32Z",
      "side": 1,
      "message": "just the public constructor and then we don\u0027t need this.",
      "parentUuid": "c280e3f9_fb3c20d8",
      "revId": "31d4e25f80c75dfe75e1a4efe600f7316b110615",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46a1b9f8_fbdc9e74",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ManagedCommandLineGenerator.java",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 23745
      },
      "writtenOn": "2021-02-25T17:16:11Z",
      "side": 1,
      "message": "OK, this may be dissonant with the rest of the code around. \n\nI agree, people will try to extend it anyway if it is technically possible. If it is not - people will be unhappy and say that this is \"bad API\" :)",
      "parentUuid": "55116f95_54339724",
      "revId": "31d4e25f80c75dfe75e1a4efe600f7316b110615",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0600e9_fe0bd4b6",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ManagedCommandLineGenerator.java",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 23745
      },
      "writtenOn": "2021-02-25T11:26:41Z",
      "side": 1,
      "message": "Do you think we can have just a public constructor instead? I do not think that we can have any notable savings from declaring this type a singleton.",
      "revId": "31d4e25f80c75dfe75e1a4efe600f7316b110615",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abe98437_70531929",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ManagedCommandLineGenerator.java",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 178588
      },
      "writtenOn": "2021-02-25T12:14:22Z",
      "side": 1,
      "message": "I think we could. AFAICT, there are only 2 places in the CDT code where the getCommandLineGenerator() is called (except the test classes). Both these can easily call new instead and it should not have too much of a penalty.",
      "parentUuid": "ab0600e9_fe0bd4b6",
      "revId": "31d4e25f80c75dfe75e1a4efe600f7316b110615",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc56b4c3_cf24add6",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ManagedCommandLineGenerator.java",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-25T12:21:32Z",
      "side": 1,
      "message": "+1 - assuming that it is worth it to you to review and update the weird logic in Tool that calls it. If you do decide to leave it, perhaps add @noreference so that it isn\u0027t part of the public API.",
      "parentUuid": "abe98437_70531929",
      "revId": "31d4e25f80c75dfe75e1a4efe600f7316b110615",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4818b38_2dde668f",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ManagedCommandLineGenerator.java",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 23745
      },
      "writtenOn": "2021-02-25T17:16:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cc56b4c3_cf24add6",
      "revId": "31d4e25f80c75dfe75e1a4efe600f7316b110615",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
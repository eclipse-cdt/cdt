{
  "comments": [
    {
      "key": {
        "uuid": "066c89b2_920067fd",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-22T15:05:16Z",
      "side": 1,
      "message": "This file does not appear to be in the dependency list of any target.",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68a4f295_9849d2ad",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 178588
      },
      "writtenOn": "2021-02-22T15:28:39Z",
      "side": 1,
      "message": "I\u0027m not sure what parts of the build that should depend on the content of this file.\nIn my examples, the file only contains some variables, so should everything depend on this file?",
      "parentUuid": "066c89b2_920067fd",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2a5f25b_f45943d9",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-22T16:11:49Z",
      "side": 1,
      "message": "This one is probably fine to omit. I looked deeper and org.eclipse.cdt.managedbuilder.makegen.gnu.GnuMakefileGenerator.populateSourcesMakefile(IFile) which creates the file never assigns any values to the variables defined in it, except SUBDIRS, but SUBDIRS is not read anywhere in  the other makefiles (its probably a bit of legacy left over)",
      "parentUuid": "68a4f295_9849d2ad",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fe6fbeb7_6269b4cc",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-22T15:05:16Z",
      "side": 1,
      "message": "This file does not appear to be in the dependency list of any target.",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed59ff8c_b2894802",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 178588
      },
      "writtenOn": "2021-02-22T15:28:39Z",
      "side": 1,
      "message": "Same as sources.mk above.",
      "parentUuid": "fe6fbeb7_6269b4cc",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83b3f7d5_d62ce0dc",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-22T16:11:49Z",
      "side": 1,
      "message": "objects.mk has the contents of C/C++ Linker -\u003e Libraries and Misc settings. Changes to these settings in CDT are handled by other \"magic\"*\n\nSo it is probably ok to leave this one out now, but what it actually affects is just the final executable.\n\n* The magic is org.eclipse.cdt.managedbuilder.internal.core.CommonBuilder.performCleanning(int, CfgBuildInfo, BuildStatus, IProgressMonitor) -- which is a whole complicated mess that tries to delete files that CDT \"knows\"* is out of date, but that the Makefile won\u0027t retrigger on. However because of the overlap with the internal builder in some of these cases, it may very well be that this code is needed for the internal builder case. \n\n* The way CDT knows is tied to the UI which sets org.eclipse.cdt.managedbuilder.internal.core.Option.rebuildState to true in the various org.eclipse.cdt.managedbuilder.internal.core.Option.setValue methods.\n\nThe problem with \"knows\" is that CDT won\u0027t try to rewrite makefiles that it does not think have changed.",
      "parentUuid": "ed59ff8c_b2894802",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e693e2f_e8a6a679",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 178588
      },
      "writtenOn": "2021-02-22T17:10:51Z",
      "side": 1,
      "message": "So, then it would make sense to treat it as \"makefile\" and add it to all the tool-nodes?",
      "parentUuid": "83b3f7d5_d62ce0dc",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d12f6d92_88340502",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-22T18:56:44Z",
      "side": 1,
      "message": "I think so.",
      "parentUuid": "4e693e2f_e8a6a679",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bd18501_81c4fb45",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 178588
      },
      "writtenOn": "2021-02-22T17:10:51Z",
      "side": 1,
      "message": "There is also another small hole in this that I do not know how to close.\nWhat if the user adds something to makefile.defs and then build the project. Later on, the user removes the makefile.defs and tries to build again. Since the file is no longer there, the build will ignore the change and will consider the build up to date as the dep. is optional due to the wildcard macro.\nIn order to fully support this, the state (if the file exist or not) need to be preserved cross make invocations. If the ../makefile.defs is always added to the test1DepCalc2 rule, then make will bail on that it does not know how to create ../makefile.defs and we do not want make to even attempt that. If the ../makefile.defs rule is phony, the commands for test1DepCalc2 will always be executed.\nObviously, the same applies to makefile.init, makefile.defs and makefile.targets\n\nI think there might be other similar issues with the makefile.{init,defs,targets} handling, so I did not consider it as important enough to spend more time on, but if you have an idea, please share!",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 33
      },
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b31779a7_82cb1979",
        "filename": "build/org.eclipse.cdt.managedbuilder.core.tests/resources/depCalcProjects/test1DepCalc2/Benchmarks/makefile",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-22T18:56:44Z",
      "side": 1,
      "message": "I think that adding/removing these optional makefiles can require user to do clean build. If there was better docs for this I would say adding something to the docs to say this would be worthwhile.\n\nOff the top of my head (i.e I thought about this for about a minute), the way I would resolve this is to, when generating the Makefile, check if the optional files exist and make OPTIONAL_TOOL_DEPS :\u003d to the found files only. That would mean adding/removing the files would cause the Makefile to be modified and that would force the build.\n\nHowever those corner cases are not terribly important I think, so I will mark this as resolved.",
      "parentUuid": "1bd18501_81c4fb45",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 33
      },
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b5d86650_4ab6ccba",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/makegen/gnu/GnuMakefileGenerator.java",
        "patchSetId": 3
      },
      "lineNbr": 829,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-22T15:05:16Z",
      "side": 1,
      "message": "This does not reliably read all bytes - use is.readAllBytes(). e.g.:\n\n\t\tbyte[] oldBytes \u003d null;\n\t\ttry (InputStream is \u003d file.getContents(true)) {\n\t\t\toldBytes \u003d is.readAllBytes();\n\t\t} catch (IOException e) {\n\t\t}",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c573617_61fe9a03",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/makegen/gnu/GnuMakefileGenerator.java",
        "patchSetId": 3
      },
      "lineNbr": 829,
      "author": {
        "id": 178588
      },
      "writtenOn": "2021-02-22T15:28:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b5d86650_4ab6ccba",
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e056f2bb_e1f75c7d",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/makegen/gnu/GnuMakefileGenerator.java",
        "patchSetId": 3
      },
      "lineNbr": 1277,
      "author": {
        "id": 178588
      },
      "writtenOn": "2021-02-21T11:39:17Z",
      "side": 1,
      "message": "Is this a good name or do you have anything better that comes to mind?",
      "range": {
        "startLine": 1277,
        "startChar": 33,
        "endLine": 1277,
        "endChar": 51
      },
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bf5774f_bbf59546",
        "filename": "build/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/makegen/gnu/GnuMakefileGenerator.java",
        "patchSetId": 3
      },
      "lineNbr": 1277,
      "author": {
        "id": 27769
      },
      "writtenOn": "2021-02-22T15:05:16Z",
      "side": 1,
      "message": "Seems fine enough to me",
      "parentUuid": "e056f2bb_e1f75c7d",
      "range": {
        "startLine": 1277,
        "startChar": 33,
        "endLine": 1277,
        "endChar": 51
      },
      "revId": "4dce8d9d54c7665500366820d3ecc1bc4bb8bfe8",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
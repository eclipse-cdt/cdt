{
  "comments": [
    {
      "key": {
        "uuid": "87e453f8_56178350",
        "filename": "cross/org.eclipse.cdt.launch.remote/src/org/eclipse/cdt/launch/remote/RemoteHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 1069
      },
      "writtenOn": "2016-05-20T13:07:37Z",
      "side": 1,
      "message": "I\u0027d suggest increasing the waitTime a bit.  On a slow target, maybe with a network filesystem, it could happen that the operation takes a bit of time.  And since we will only wait for that time when things go wrong, it won\u0027t slow down things when the process returns quickly and successfully.",
      "range": {
        "startLine": 123,
        "startChar": 22,
        "endLine": 123,
        "endChar": 23
      },
      "revId": "728b412512328f2882a30ca80a4db003ace039c3",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_96dbcb9a",
        "filename": "cross/org.eclipse.cdt.launch.remote/src/org/eclipse/cdt/launch/remote/RemoteHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 814
      },
      "writtenOn": "2016-05-20T14:02:45Z",
      "side": 1,
      "message": "I\u0027d suggest a different approach: use o.e.r.IRemoteProcessBuilder to spawn the process and wait until it finishes so that you don\u0027t need to rely on waitTime.\n\nIndeed it was something I forgot to change when I moved from RSE to o.e.remote. Good catch!",
      "parentUuid": "87e453f8_56178350",
      "range": {
        "startLine": 123,
        "startChar": 22,
        "endLine": 123,
        "endChar": 23
      },
      "revId": "728b412512328f2882a30ca80a4db003ace039c3",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_16c17b97",
        "filename": "cross/org.eclipse.cdt.launch.remote/src/org/eclipse/cdt/launch/remote/RemoteHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 1069
      },
      "writtenOn": "2016-05-20T14:13:47Z",
      "side": 1,
      "message": "I am not sure I understand your suggestion.\n\nAlvaro\u0027s code do just that, it spawns the process and waits for it to finish.  The waitTime is just a timeout (perhaps it could be named \"timeout\", actually), so that we don\u0027t wait forever in case something gets stuck.\n\nWhat would be different with what you suggest?",
      "parentUuid": "87e453f8_96dbcb9a",
      "range": {
        "startLine": 123,
        "startChar": 22,
        "endLine": 123,
        "endChar": 23
      },
      "revId": "728b412512328f2882a30ca80a4db003ace039c3",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_191e0c98",
        "filename": "cross/org.eclipse.cdt.launch.remote/src/org/eclipse/cdt/launch/remote/RemoteHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 814
      },
      "writtenOn": "2016-05-20T15:51:19Z",
      "side": 1,
      "message": "The RemoteHelper#remoteShellExec uses o.e.r.IRemoteCommandShellService that keeps a shell connection alive, waiting for read/write operations on the channel. You cannot say exactly when the command finished, unless you parse the output. So Alvaro\u0027s solution will always hit the timeout.  \n\nAs opposite, o.e.r.IRemoteProcessBuilder emulates behavior of java.lang.ProcessBuilder. It opens a connection, spawn the process and return an IRemoteProcess object. Then you can simply wait the process to finish (IRemoteProcess.waitFor() - no timeout arguments) before return.",
      "parentUuid": "87e453f8_16c17b97",
      "range": {
        "startLine": 123,
        "startChar": 22,
        "endLine": 123,
        "endChar": 23
      },
      "revId": "728b412512328f2882a30ca80a4db003ace039c3",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_85cf0aa3",
        "filename": "cross/org.eclipse.cdt.launch.remote/src/org/eclipse/cdt/launch/remote/RemoteHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 482
      },
      "writtenOn": "2016-05-24T15:20:28Z",
      "side": 1,
      "message": "Done, set to 10 sec.",
      "parentUuid": "87e453f8_56178350",
      "range": {
        "startLine": 123,
        "startChar": 22,
        "endLine": 123,
        "endChar": 23
      },
      "revId": "728b412512328f2882a30ca80a4db003ace039c3",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_65f4bec1",
        "filename": "cross/org.eclipse.cdt.launch.remote/src/org/eclipse/cdt/launch/remote/RemoteHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 482
      },
      "writtenOn": "2016-05-24T15:20:28Z",
      "side": 1,
      "message": "The suggested approach does not always hit the timeout. \nIt returns right away when the process completes, similarly to IRemoteProcess.waifor(),   I could have used Process#wait() similarly to your suggestion, but I am using waitFor in order to cover the possibility of a hanging command.\n  I have double checked on this by testing with time stamps before and after execution and I can see the quick returns with no timeout.\n  I have increased the timeout to cover for slow connections, \nthe update is reflected in patch set 2.",
      "parentUuid": "87e453f8_191e0c98",
      "range": {
        "startLine": 123,
        "startChar": 22,
        "endLine": 123,
        "endChar": 23
      },
      "revId": "728b412512328f2882a30ca80a4db003ace039c3",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_b62527b5",
        "filename": "cross/org.eclipse.cdt.launch.remote/src/org/eclipse/cdt/launch/remote/RemoteHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1069
      },
      "writtenOn": "2016-05-20T13:07:37Z",
      "side": 1,
      "message": "Is there really nothing to do?  If this thread gets interrupted, shouldn\u0027t it abort/exit early?",
      "range": {
        "startLine": 130,
        "startChar": 0,
        "endLine": 130,
        "endChar": 32
      },
      "revId": "728b412512328f2882a30ca80a4db003ace039c3",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_8501ca3f",
        "filename": "cross/org.eclipse.cdt.launch.remote/src/org/eclipse/cdt/launch/remote/RemoteHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 482
      },
      "writtenOn": "2016-05-24T15:20:28Z",
      "side": 1,
      "message": "Done, \nPatch set 2 reflects this.",
      "parentUuid": "87e453f8_b62527b5",
      "range": {
        "startLine": 130,
        "startChar": 0,
        "endLine": 130,
        "endChar": 32
      },
      "revId": "728b412512328f2882a30ca80a4db003ace039c3",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
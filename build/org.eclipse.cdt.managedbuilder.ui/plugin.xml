<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

     <extension-point id="newWizardPages" name="Custom MBS New Wizard Pages" schema="schema/newWizardPages.exsd"/>

   <extension
         point="org.eclipse.ui.newWizards">
<!-- Managed Make Builder Projects -->
      <wizard
            name="%MngCCWizard.name"
            icon="icons/elcl16/newmngcc_app.gif"
            category="org.eclipse.cdt.ui.newCCWizards"
            class="org.eclipse.cdt.managedbuilder.ui.wizards.NewManagedCCProjectWizard"
            project="true"
            finalPerspective="org.eclipse.cdt.ui.CPerspective"
            id="org.eclipse.cdt.managedbuilder.ui.wizards.StdCCWizard">
         <description>
            %MngCCWizard.description
         </description>
      </wizard>
      <wizard
            name="%MngCWizard.name"
            icon="icons/elcl16/newmngc_app.gif"
            category="org.eclipse.cdt.ui.newCWizards"
            class="org.eclipse.cdt.managedbuilder.ui.wizards.NewManagedCProjectWizard"
            project="true"
            finalPerspective="org.eclipse.cdt.ui.CPerspective"
            id="org.eclipse.cdt.managedbuilder.ui.wizards.StdCWizard">
         <description>
            %MngCWizard.description
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            objectClass="org.eclipse.core.resources.IProject"
            adaptable="true"
            name="%MngBuildProp.name"
            class="org.eclipse.cdt.managedbuilder.ui.properties.BuildPropertyPage"
            id="org.eclipse.cdt.managedbuilder.ui.properties.BuildProperties">
         <filter
               name="nature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
      </page>
      <page
            objectClass="org.eclipse.core.resources.IFile"
            adaptable="true"
            name="%MngResourceProp.name"
            class="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildPropertyPage"
            id="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildProperties">
	         <filter
	               name="projectNature"
	               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
	         </filter>
      </page>

      <!--page
            objectClass="org.eclipse.core.resources.IFile"
            adaptable="true"
            name="%MngResourceProp.name"
            nameFilter="*.c"
            class="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildPropertyPage"
            id="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildProperties.c">
      </page>
      <page
            objectClass="org.eclipse.core.resources.IFile"
            adaptable="true"
            name="%MngResourceProp.name"
            nameFilter="*.cpp"
            class="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildPropertyPage"
            id="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildProperties.cpp">
      </page>
      <page
            objectClass="org.eclipse.core.resources.IFile"
            adaptable="true"
            name="%MngResourceProp.name"
            nameFilter="*.cc"
            class="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildPropertyPage"
            id="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildProperties.cc">
      </page>
      <page
            objectClass="org.eclipse.core.resources.IFile"
            adaptable="true"
            name="%MngResourceProp.name"
            nameFilter="*.cxx"
            class="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildPropertyPage"
            id="org.eclipse.cdt.managedbuilder.ui.properties.ResourceBuildProperties.cxx">
      </page-->
   </extension>
      
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="%MngBuildPref.name"
            category="org.eclipse.cdt.ui.preferences.CPluginPreferencePage"
            class="org.eclipse.cdt.managedbuilder.ui.properties.BuildPreferencePage"
            id="org.eclipse.cdt.managedbuilder.ui.preferences.BuildPreferences">
      </page>
   </extension>
   
   <!-- Action for Project Converter in context menu -->
  <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            objectClass="org.eclipse.core.resources.IProject"
            adaptable="true"
            id="org.eclipse.cdt.managedbuilder.ui.popupMenu.ConvertTargetContribution">
         <action
               label="%ConvertTargetAction.label"
               class="org.eclipse.cdt.managedbuilder.ui.actions.ConvertTargetAction"
               menubarPath="convertGroup"
               enablesFor="1"
               id="org.eclipse.cdt.managedbuilder.ui.ConvertTargetAction">
         </action>         
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
      </objectContribution>
   </extension>
  <extension
        point="org.eclipse.ui.actionSets">
     <actionSet
           description="Build configuration for the current project"
           id="org.eclipse.cdt.managedbuilder.ui.buildConfigActionSet"
           label="%BuildConfigActionSet.label"
           visible="false">
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.ChangeBuildConfigMenuAction"
              disabledIcon="icons/dlcl16/config-tool.gif"
              enablesFor="+"
              icon="icons/elcl16/config-tool.gif"
              id="org.eclipse.cdt.managedbuilder.ui.buildConfigToolbarAction"
              label="%BuildConfigToolbarAction.label"
              style="pulldown"
              toolbarPath="buildConfig"
              tooltip="%BuildConfigAction.tooltip"/>
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.ChangeBuildConfigMenuAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.buildConfigMenuAction"
              label="%BuildConfigMenuAction.label"
              menubarPath="project/build"
              style="pulldown"
              tooltip="%BuildConfigAction.tooltip"/>
     </actionSet>
     <actionSet
           id="org.eclipse.cdt.managedbuilder.ui.buildSelectedFilesActionSet"
           label="%BuildSelectedFilesActionSet.label"
           visible="false">
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.BuildFilesAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.buildFilesAction"
              label="%BuildSelectedFiles.label"
              menubarPath="project/build"
              style="push"
              tooltip="%buildSelectedFiles.tooltip">
        </action>
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.CleanFilesAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.cleanFilesAction"
              label="%CleanSelectedFiles.label"
              menubarPath="project/build"
              style="push"
              tooltip="%cleanFilesAction.tooltip">
        </action>
     </actionSet>
  </extension>
  <extension
        point="org.eclipse.ui.popupMenus">
     <objectContribution
           adaptable="true"
           id="org.eclipse.cdt.managedbuilder.ui.buildConfigContribution"
           objectClass="org.eclipse.core.resources.IResource">
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.ChangeBuildConfigContextAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.buildConfigPulldownAction"
              label="%BuildConfigContextAction.label"
              menubarPath="buildGroup"
              style="pulldown"
              tooltip="%BuildConfigAction.tooltip"/>
        <filter
              name="projectNature"
              value="org.eclipse.cdt.managedbuilder.core.managedBuildNature"/>
     </objectContribution>
     <objectContribution
           adaptable="true"
           id="org.eclipse.cdt.managedbuilder.ui.BuildSelectedFilesContribution"
           objectClass="org.eclipse.core.resources.IResource">
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.BuildFilesAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.popups.buildFilesAction"
              label="%BuildSelectedFiles.label"
              menubarPath="additions"/>
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.CleanFilesAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.popups.cleanFilesAction"
              label="%CleanSelectedFiles.label"
              menubarPath="additions"/>
        <visibility>
           <and>
              <not>
                 <objectClass name="org.eclipse.core.resources.IProject"/>
              </not>
              <not>
                 <objectClass name="org.eclipse.core.resources.IFolder"/>
              </not>
              <objectState
                    name="projectNature"
                    value="org.eclipse.cdt.managedbuilder.core.managedBuildNature"/>
           </and>
        </visibility>
     </objectContribution>
  </extension>
  <extension
        point="org.eclipse.ui.perspectiveExtensions">
     <perspectiveExtension targetID="org.eclipse.cdt.ui.CPerspective">
        <actionSet id="org.eclipse.cdt.managedbuilder.ui.buildConfigActionSet"/>
        <actionSet id="org.eclipse.cdt.managedbuilder.ui.buildSelectedFilesActionSet"/>
     </perspectiveExtension>
  </extension>   
</plugin>
